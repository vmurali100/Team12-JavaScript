<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <style>
    label#name {
      position: relative;
      left: -2%;
    }

    label#ema {
      position: relative;
      left: -2%;
    }

    label#word {
      position: relative;
      left: -2%;
    }

    label#conpass {
      position: relative;
      left: -2%;
    }

    label#name {
      position: relative;
      left: -2%;
    }

    label#niname {
      position: relative;
      left: -2%;
    }

    label#websi {
      position: relative;
      left: -2%;
    }

    label#about {
      position: relative;
      left: -2%;
      bottom: 60px;
    }

    input#urname {
      position: relative;
      width: 200px;
      left: 6px;
    }

    input#email {
      position: relative;
      width: 200px;
      left: 30px;
    }

    input#pass {
      position: relative;
      width: 200px;
      left: 8px;
    }

    input#compass {
      position: relative;
      width: 200px;
      bottom: 16px;
      left: 16px;
    }

    input#fname {
      position: relative;
      width: 200px;
    }

    input#lname {
      position: relative;
      width: 200px;
    }

    input#nname {
      position: relative;
      width: 200px;
    }

    input#web {
      position: relative;
      width: 200px;
      left: 14px;
    }

    textarea#bio {
      position: relative;
      width: 209px;
      left: 44px;
    }

    .form {
      position: relative;
      left: 5%;
    }

    form {
      margin: 0;
      padding: 0;
    }

    button#updateBtn {
      background-color: black;
      color: white;
      font-size: large;
      position: absolute;
      left: 118px;
      width: 210px;
      border: none;
      transition-duration: 0.3s;
      font-size: 30px;
      border: 3px solid cyan;
      bottom: 31px;
    }

    button#createBtn {
      background-color: black;
      color: white;
      font-size: large;
      position: absolute;
      left: 118px;
      width: 210px;
      border: none;
      transition-duration: 0.3s;
      font-size: 30px;
      border: 3px solid cyan;

    }


    button#createBtn:hover {
      color: orange;
      cursor: pointer;
    }

    button#updateBtn:hover {
      color: orange;
      cursor: pointer;
    }

    #updateBtn {
      display: none;
    }
  </style>
</head>

<body>
  <h3>Create User :</h3>
  <hr />
  <form class="form">
    <label for="Username" id="name">Username :</label>
    <input type="text" name="" id="urname" placeholder="Enter your name" /><br /><br />
    <label for="Email" id="ema">Email :</label>
    <input type="email" name="" id="email" /><br /><br />
    <label for="Password" id="word">Password :</label>
    <input type="password" name="" id="pass" /><br /><br />
    <label for="confirmpassword" id="conpass">confirm <br>password</label>
    <input type="password" name="" id="compass"><br /><br>
    <label for="FirstName" id="name">FristName :</label>
    <input type="text" name="" id="fname" />
    <input type="text" name="" id="lname" placeholder="Lastname" /><br /><br />
    <label for="Nickname" id="niname">Nickname :</label>
    <input type="text" name="" id="nname" /><br /><br />
    <label for="Website" id="websi">Website :</label>
    <input type="url" name="" id="web" /><br /><br />
    <label for="Bio" id="about">Bio :</label>
    <textarea name="" id="bio" rows="5" cols="30" placeholder="Enter something"></textarea><br /><br />
    <button onclick="createuser()" type="button" id="createBtn">
      Create User</button><br /><br />
    <button onclick="updateUser()" type="button" id="updateBtn">
      Update User</button><br /><br />
  </form>
  <hr />
  <table border="1">
    <thead>
      <tr>
        <th>User Name</th>
        <th>Email</th>
        <th>Password</th>
        <th>confirmpassword</th>
        <th>Frist Name</th>
        <th>Last Name</th>
        <th>nname</th>
        <th>web</th>
        <th>bio</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <script>
    var allUsers = [];
    var gindex = null;
    function createuser() {
      var user = {
        Username: document.getElementById("urname").value,
        Email: document.getElementById("email").value,
        Password: document.getElementById("pass").value,
        confirmpassword: document.getElementById("compass").value,
        FristName: document.getElementById("fname").value,
        LastName: document.getElementById("lname").value,
        Nickname: document.getElementById("nname").value,
        Website: document.getElementById("web").value,
        Bio: document.getElementById("bio").value,
      };
      clearform();
      allUsers.push(user);
      displayUsers(allUsers);
    }
    function clearform() {
      document.getElementById("urname").value = "";
      document.getElementById("email").value = "";
      document.getElementById("pass").value = "";
      document.getElementById("compass").value = "";
      document.getElementById("fname").value = "";
      document.getElementById("lname").value = "";
      document.getElementById("nname").value = "";
      document.getElementById("web").value = "";
      document.getElementById("bio").value = "";
    }
    function displayUsers(users) {
      document.querySelector("tbody").innerHTML = "";
      users.forEach((user, i) => {
        var myTr = document.createElement("tr");
        var mytd1 = document.createElement("td");
        mytd1.innerHTML = user.Username
        var mytd2 = document.createElement("td");
        mytd2.innerHTML = user.Email
        var mytd3 = document.createElement("td");
        mytd3.innerHTML = user.Password
        var mytd4 = document.createElement("td");
        mytd4.innerHTML = user.confirmpassword
        var mytd5 = document.createElement("td");
        mytd5.innerHTML = user.FristName
        var mytd6 = document.createElement("td");
        mytd6.innerHTML = user.LastName
        var mytd7 = document.createElement("td");
        mytd7.innerHTML = user.Nickname
        var mytd8 = document.createElement("td");
        mytd8.innerHTML = user.Website
        var mytd9 = document.createElement("td");
        mytd9.innerHTML = user.Bio

        myTr.appendChild(mytd1);
        myTr.appendChild(mytd2);
        myTr.appendChild(mytd3);
        myTr.appendChild(mytd4);
        myTr.appendChild(mytd5);
        myTr.appendChild(mytd6);
        myTr.appendChild(mytd7);
        myTr.appendChild(mytd8);
        myTr.appendChild(mytd9);

        var editTd = document.createElement("td");
        var editBtn = document.createElement("button");
        editBtn.innerHTML = "Edit";
        editBtn.setAttribute("onclick", "editUser(" + i + ")");

        editTd.appendChild(editBtn);
        var deleteTd = document.createElement("td");
        var deleteBtn = document.createElement("button");
        deleteBtn.innerHTML = "Delete";
        deleteBtn.setAttribute("onclick", "deleteUser(" + i + ")");
        deleteTd.appendChild(deleteBtn);
        myTr.appendChild(editTd);
        myTr.appendChild(deleteTd);
        document.querySelector("tbody").appendChild(myTr);
      });
    }
    function deleteUser(i) {
      var latestUsers = allUsers.filter(function (user, index) {
        return i !== index;
      });
      console.log(latestUsers);
      displayUsers(latestUsers);
    }

    function editUser(i) {
      console.log(i);
      gindex = i;
      document.getElementById("urname").value = allUsers[i].Username;
      document.getElementById("email").value = allUsers[i].Email;
      document.getElementById("pass").value = allUsers[i].Password;
      document.getElementById("compass").value = allUsers[i].confirmpassword;
      document.getElementById("fname").value = allUsers[i].FristName;
      document.getElementById("lname").value = allUsers[i].LastName;
      document.getElementById("nname").value = allUsers[i].Nickname;
      document.getElementById("web").value = allUsers[i].Website;
      document.getElementById("bio").value = allUsers[i].Bio;
      document.getElementById("createBtn").style.display = "none";
      document.getElementById("updateBtn").style.display = "block";
    }
    function updateUser() {
      var user = {
        Username: document.getElementById("urname").value,
        Email: document.getElementById("email").value,
        Password: document.getElementById("pass").value,
        confirmpassword: document.getElementById("compass").value,
        FristName: document.getElementById("fname").value,
        LastName: document.getElementById("lname").value,
        Nickname: document.getElementById("nname").value,
        Website: document.getElementById("web").value,
        Bio: document.getElementById("bio").value,
      };
      allUsers[gindex] = user;

      displayUsers(allUsers);
      clearform();
      document.getElementById("createBtn").style.display = "block";
      document.getElementById("updateBtn").style.display = "none";
    }

  </script>
</body>

</html>